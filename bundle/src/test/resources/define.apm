var xxx= 'global'
SHOW ($xxx)                           # should be 'global'
for i in [1] {
  SHOW ($xxx)                         # should be 'global'
  var xxx= '1. foreach'
  SHOW ($xxx)                         # 'global' shadowed by '1. foreach'
  for j in [1]
  {
    var xxx= '2. foreach'
    SHOW ($xxx)                       # '1. foreach' shadowed by '2. foreach'
  }
  SHOW ($xxx)                         # going back to '1. foreach'
}
SHOW ($xxx)                           # going back to 'global'

SEPARATE # only to separate logs

use macro1
SHOW ($xxx)                           # should be 'global'

def macro1 {
  SHOW ($xxx)                         # macro doesn't see variables defined outside
  for i in [1] {
    var xxx= '1. macro'
    SHOW ($xxx)                       # should be '1. macro'
    for j in [1]
    {
      var xxx= '2. macro'
      SHOW ($xxx)                     # '1. macro' shadowed by '2. macro'
    }
    SHOW ($xxx)                       # going back to '1. macro'
  }
  SHOW ($xxx)                         # going back to '2. macro'
}
