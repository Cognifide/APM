<!-- /*
* ========================LICENSE_START=================================
* AEM Permission Management
* %%
* Copyright (C) 2013 - 2016 Cognifide Limited
* %%
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
* =========================LICENSE_END==================================
*/ -->
<sly data-sly-use.model="com.cognifide.cq.cqsm.core.models.RowModel"/>
<tr class="foundation-collection-model ${item.folder && 'foundation-collection-navigator'}"
    data-foundation-collection-model-id="${resource.path}" data-path="${resource.path}"
    data-type="${model.resourceType}"
    data-foundation-collection-navigator-href="/apm/dashboard.html${resource.path}"
    data-timeline="true" is="coral-table-row" data-title="${model.scriptName}">
    <td is="coral-table-cell" coral-table-rowselect>
        <coral-icon class="foundation-collection-model-thumbnail" icon="${model.folder ? 'folder' : 'fileKey'}" role="img"/>
    </td>
    <td is="coral-table-cell" value="${model.scriptName}">
        <a class="foundation-layout-table-cellwrapper" data-sly-test.link="${model.folder}" href="/apm/dashboard.html${resource.path}">${model.scriptName}</a>
        <sly data-sly-test="${!link}" >${model.scriptName}</sly>
    </td>
    <td is="coral-table-cell" value="${model.author}">
        ${model.author}
    </td>
    <td is="coral-table-cell" value="${model.valid}">
        <coral-icon class="foundation-collection-model-thumbnail" icon="${model.valid ? 'check' : 'close'}" role="img"/>
    </td>
    <td is="coral-table-cell" value="${model.executionEnabled}">
        <coral-icon class="foundation-collection-model-thumbnail" icon="${model.executionEnabled ? 'check' : 'close'}" role="img"/>
    </td>
    <td is="coral-table-cell" value="${model.lastModified.timeInMillis || 0}">
        <time data-sly-test="${model.lastModified}" datetime="${model.lastModified.timeInMillis || 0}"
              data-sly-use.lastMod="${'com.adobe.cq.xf.ui.DateFormatter' @ date=model.lastModified, relativeFormat='r'}">
            ${lastMod.date}
        </time>
    </td>
    <td is="coral-table-cell" value="${model.executionLast.timeInMillis || 0}">
        <time data-sly-test="${model.executionLast}" datetime="${model.executionLast.timeInMillis || 0}"
              data-sly-use.execLast="${'com.adobe.cq.xf.ui.DateFormatter' @ date=model.executionLast, relativeFormat='r'}">
            ${execLast.date}
        </time>
    </td>
    <td is="coral-table-cell" value="${model.executionSchedule.timeInMillis || 0}">${model.executionSchedule}
        <time data-sly-test="${model.executionSchedule}" datetime="${model.executionSchedule.timeInMillis || 0}"
              data-sly-use.execSched="${'com.adobe.cq.xf.ui.DateFormatter' @ date=model.executionSchedule, relativeFormat='r'}">
            ${execSched.date}
        </time>
    </td>
</tr>
