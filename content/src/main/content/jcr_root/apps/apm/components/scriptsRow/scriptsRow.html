<!--
  ~ ========================LICENSE_START=================================
  ~ AEM Permission Management
  ~ %%
  ~ Copyright (C) 2013 Cognifide Limited
  ~ %%
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~       http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  ~ =========================LICENSE_END==================================
  -->
<sly data-sly-use.item="com.cognifide.cq.cqsm.core.models.RowModel"/>
<tr class="foundation-collection-item ${item.folder && 'foundation-collection-navigator'}"
    data-foundation-collection-item-id="${resource.path}" data-path="${resource.path}"
    data-type="${item.resourceType}"
    data-foundation-collection-navigator-href="/apm/scripts.html${resource.path}"
    data-timeline="true" is="coral-table-row" data-title="${item.scriptName}">
    <td is="coral-table-cell" coral-table-rowselect>
        <coral-icon class="foundation-collection-item-thumbnail" icon="${item.folder ? 'folder' : 'fileKey'}" role="img"/>
    </td>
    <td is="coral-table-cell" value="${item.scriptName}">
        <a class="foundation-layout-table-cellwrapper" data-sly-test.link="${item.folder}" href="/apm/scripts.html${resource.path}">${item.scriptName}</a>
        <sly data-sly-test="${!link}" >${item.scriptName}</sly>
    </td>
    <td is="coral-table-cell" value="${item.lastModified.timeInMillis || 0}">
        <time data-sly-test="${item.lastModified}" datetime="${item.lastModified.timeInMillis || 0}"
              data-sly-use.lastMod="${'com.adobe.cq.xf.ui.DateFormatter' @ date=item.lastModified, relativeFormat='r'}">
            ${lastMod.date}
        </time>
    </td>
    <td is="coral-table-cell" value="${item.author}">
        ${item.author}
    </td>
    <td is="coral-table-cell" value="${item.valid}">
        <coral-icon data-sly-test="${!item.folder}" class="foundation-collection-item-thumbnail" icon="${item.valid ? 'check' : 'close'}" role="img"/>
    </td>
    <td is="coral-table-cell" value="${item.executionLast.timeInMillis || 0}">
        <a data-sly-test="${item.executionLast}" is="coral-anchorbutton" icon="search" iconsize="S"
           href="/apm/summary.html${item.executionSummary}"></a>
        <time data-sly-test="${item.executionLast}" datetime="${item.executionLast.timeInMillis || 0}"
              data-sly-use.execLast="${'com.adobe.cq.xf.ui.DateFormatter' @ date=item.executionLast, relativeFormat='r'}">
            ${execLast.date}
        </time>
    </td>
    <td is="coral-table-cell" value="${item.dryRunLast.timeInMillis || 0}">
        <a data-sly-test="${item.dryRunLast}" is="coral-anchorbutton" icon="search" iconsize="S"
           href="/apm/summary.html${item.dryRunSummary}"></a>
        <time data-sly-test="${item.dryRunLast}" datetime="${item.dryRunLast.timeInMillis || 0}"
              data-sly-use.execLast="${'com.adobe.cq.xf.ui.DateFormatter' @ date=item.dryRunLast, relativeFormat='r'}">
            ${execLast.date}
        </time>
    </td>
</tr>
